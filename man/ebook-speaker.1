.\" Text automatically generated by txt2man
.TH ebook-speaker 1 "22 June 2021" "ebook-speaker-6.1" "Linux Reference Manual"
.SH NAME
\fBeBook-speaker \fP- read aloud eBooks and other text formats using a software speech-synthesizer
\fB
.SH SYNOPSIS
.nf
.fam C
\fBebook-speaker\fP [\fIeBook_file\fP | \fIURL\fP | \fB-s\fP [\fB-r\fP \fIresolution\fP]] [\fB-b\fP \fIn\fP | \fIy\fP | \fIposition\fP] [\fB-c\fP] [\fB-d\fP \fIaudio_device:audio_type\fP] [\fB-h\fP] [\fB-H\fP] [\fB-i\fP] [\fB-o\fP \fIlanguage-code\fP] [\fB-S\fP] [\fB-t\fP \fITTS_command\fP] [\fB-v\fP]

.fam T
.fi
.fam T
.fi
.SH DESCRIPTION
eBook-speaker reads aloud eBooks and other text formats and even scanned documents using a software speech-synthesizer. By default the tool espeak is used for speech output.
eBook-speaker can read from http://, https:// and ftp:// URLs using the tool wget.
eBook-speaker also can scan a documant by itself using the scanimage application.
.PP
A list of items on the eBook will appear. Press <ENTER> to start reading. When reading of an item has finished, eBook-speaker will read the next item and the cursor will automatically skip to that item, so that an attached braille-terminal will display the name of that item.
.SH OPTIONS
.TP
.B
\fIeBook_file\fP
Give an \fIeBook_file\fP as argument to eBook-speaker.  Many eBook formats are supported. eBook-speaker also tries to read scanned documents through Optical Character Recognition.
.PP
.nf
.fam C
                Supported formats
                -----------------
                AportisDoc
                AppleSingle encoded Macintosh
                ASCII mail text
                ASCII text
                awk script text
                Bourne-Again shell script text
                Broadband eBooks (BBeB)
                C source text
                Composite Document File (Microsoft Office Word)
                DAISY3 DTBook
                EPUB ebook data
                GIF image data
                GNU gettext message catalogue
                GutenPalm zTXT
                HTML document
                ISO-8859 text
                JPEG image data
                Microsoft Reader eBook Data
                Microsoft Windows HtmlHelp Data
                Microsoft Word 2007+
                Mobipocket E-book
                MS Windows HtmlHelp Data
                Netpbm PPM data
                OpenDocument Text
                Pascal source
                PDF document
                PeanutPress PalmOS
                Perl script text
                PNG image data
                POSIX shell script text
                PostScript document
                Python script
                Rich Text Format
                Tenex C shell script text
                troff or preprocessor text (e.g. Linux man-pages)
                UTF-8 Unicode mail text
                UTF-8 Unicode text
                WordPerfect
                XML document text

.fam T
.fi
.RS
When no input-file is supplied, eBook-speaker will bring up a file-manager. See KEYBOARD COMMANDS IN THE FILEMANAGER.
.RE
.TP
.B
\fB-b\fP \fIn\fP | \fIy\fP | \fIposition\fP
Set the initial break_on_EOL or \fIposition\fP. After quiting eBook-speaker. This setting will be saved and used as default for future books. It can be overruled with the 'b'\fB-command\fP for each individual book. See the 'b' command.
.TP
.B
\fB-c\fP
eBook-speaker use tesseract for OCR by default. This option forces eBook-speaker to use cuneiform instead.
.TP
.B
\fB-d\fP \fIaudio_device:audio_type\fP
eBook-speaker will play on this sound device of given audio_type. The value must be of the form "\fIaudio_device:audio_type\fP". Example: "\fB-d\fP default:alsa", "hw:0:alsa" or "0:pulseaudio". This option overrules the value in the ~/.eBook-speaker/* config file. Be sure the user is a member of the group "audio".
.TP
.B
\fB-h\fP
Print this usage message.
.TP
.B
\fB-H\fP
Show "hidden" files in the file-manager.
.TP
.B
\fB-i\fP
Ignore reading of the bookmark.
.TP
.B
\fB-l\fP
Deprecated. eBook-speaker now determines the file-type using the libmagic library.
.TP
.B
\fB-o\fP \fIlanguage-code\fP
The language code for OCR to use. (typically an ISO 639-1 two-letter code. See <https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes>). If this option not is specified, the language is determined according to the current locale.
.TP
.B
\fB-r\fP \fIresolution\fP
By default the option "\fB-s\fP" will scan at a \fIresolution\fP of 400  DPI. With this option one can force another \fIresolution\fP.
.TP
.B
\fB-s\fP
Scan a document using a hardware scanner and OCR it with either tesseract or cuneiform.
.TP
.B
\fB-S\fP
Do not display the phrase-numbers passing during playback.
.TP
.B
\fB-t\fP TTS-command
Be sure that the TTS reads from the file eBook-speaker.txt and that it writes to the file eBook-speaker.wav. To add the TTS-command permantly one has to edit the ~/.eBook-speaker.xml file by hand.
.TP
.B
\fB-v\fP
Be more verbose, so one can se what's going on.
.PP
Examples:
.IP \(bu 3
\fBebook-speaker\fP some.epub \fB-t\fP "espeak \fB-f\fP eBook-speaker.txt \fB-w\fP eBook-speaker.wav \fB-v\fP nl"
.IP \(bu 3
\fBebook-speaker\fP some.epub \fB-t\fP "flite eBook-speaker.txt eBook-speaker.wav"
.IP \(bu 3
\fBebook-speaker\fP some.epub \fB-t\fP "text2wave eBook-speaker.txt \fB-o\fP eBook-speaker.wav"
.SH SCREEN
The name and version of this program and the name of the author is displayed left aligned at the top of the screen. The name of the current loaded book is displayed right aligned.
.PP
The second row of the screen displays the number of pages of the current loaded book (if any), the current selected level and the total number of levels, the total number of phrases and the current displayed screen and the total number of screens.
.PP
The next rows displays the title of the item, the first page of that item within brackets (if there are pages) and the total number of phrases in this item. Items in higher levels are indented. (Three spaces each level.) When "just reading this item" is active, a "J" is viewed at the first column of that item.
.PP
The spoken phrase will be displayed on the bottom-line of the screen, so one can follow along on a braille-terminal what he/she hears.
.SH CONTROL KEYS
eBook-speaker recognizes the following keyboard-commands:
.TP
.B
cursor down,2
Move cursor to the next item.
.TP
.B
cursor up,8
Move cursor to the previous item.
.TP
.B
cursor right,6
Skip to next phrase.
.TP
.B
cursor left,4
Skip to previous phrase.
.TP
.B
page-down,3
View next screen.
.TP
.B
page-up,9
View previous screen.
.TP
.B
enter
Start reading.
.TP
.B
space,0
Pause/resume reading.
.TP
.B
home,*
Read on normal speed.
.TP
.B
/
Search for a label.
.TP
.B
A
Store current item to disk in ASCII-format.
.TP
.B
b
Set a phrase-break at the end of a line or \fIposition\fP. When set to '\fIy\fP'es, eBook-speaker will start a new phrase after each New-Line character. When set to '\fIn\fP'o, each New-Line character will be seen as a space, so that two or more lines are concatenated to one phrase. Or set a break at the Nth \fIposition\fP.
.TP
.B
B
Move cursor to the last item.
.TP
.B
d
Store current item to disk in WAV-format.
.TP
.B
D,-
Decrease reading speed.
.TP
.B
f
Find the currently reading item and place the cursor there.
.TP
.B
g
Go to phrase in current item.
.TP
.B
G
Go to page number. (if there are pages)
.TP
.B
h,?
Give this help.
.TP
.B
j,5
Just read current item and place a "J" at the first column.
.TP
.B
l
Switch to next level.
.TP
.B
L
Switch to previous level.
.TP
.B
m
mute sound on/off.
.TP
.B
\fIn\fP
Search forewards.
.TP
.B
N
Search backwards.
.TP
.B
o
Select an output sound device.
.TP
.B
p
Place a bookmark.
.TP
.B
q
Quit eBook-speaker. The reading-point is saved as bookmark.
.TP
.B
r
Rotate the scanned document. If the document is accidentally placed upside-down on the scanner, it can not be OCR'ed correctly. This command will rotate the scanned document 90 degrees.
.TP
.B
s
Stop reading.
.TP
.B
S
Toggle show progress on/off.
.TP
.B
t
Select a TTS.
.TP
.B
T
Move cursor to the first item.
.TP
.B
U,+
Increase reading speed.
.TP
.B
v,1
Decraese playback volume.
.TP
.B
V,7
Increase playback volume. (beware of Clipping)
.TP
.B
w
Store whole book to disk in WAV-format.
.TP
.B
x
Go to the file-manager.
.SH KEYBOARD COMMANDS IN THE FILEMANAGER
.TP
.B
enter,cursor right,6
Start eBook-speaker with current file as input.
.TP
.B
cursor left,4
Select previous directory and open it.
.TP
.B
cursor down,2
Move cursor to the next file.
.TP
.B
cursor up,8
Move cursor to the previous file.
.TP
.B
page-down,3
View next page.
.TP
.B
page-up,9
View previous page.
.TP
.B
/
Search for a file.
.TP
.B
end,B
Move cursor to the last file.
.TP
.B
h,?
Give this help.
.TP
.B
H,0
Toggle hidden files displaying on or off.
.TP
.B
i
Give some information about current file.
.TP
.B
\fIn\fP
Search next.
.TP
.B
N
Search previous.
.TP
.B
q
Quit eBook-speaker.
.TP
.B
home,T
Move cursor to the first file.
.SH TTS
When pressing the 't'\fB-command\fP, the TTS-selector appears. A few TTS-applications are defined by default. The first TTS in the TTS-selector will be espeak with option \fB-v\fP set according to the current locale.
.IP \(bu 3
Choose one by moving the cursor with the cursor-keys and select it by pressing the ENTER-key.
.IP \(bu 3
To delete or add a TTS-command one has to edit the file ~/.eBook-speaker.xml by hand and follow the instructions.
.PP
Be sure that the new TTS reads its information from the file eBook-speaker.txt and that it writes to the file eBook-speaker.wav.
.SH TTS EXAMPLES
Here are some examples to insert into the ~/.eBook-speaker.xml file:
.IP \(bu 3
espeak \fB-f\fP eBook-speaker.txt \fB-w\fP eBook-speaker.wav
.IP \(bu 3
espeak \fB-f\fP eBook-speaker.txt \fB-w\fP eBook-speaker.wav \fB-v\fP mb-en1
.IP \(bu 3
espeak \fB-f\fP eBook-speaker.txt \fB-w\fP eBook-speaker.wav \fB-v\fP de
.IP \(bu 3
espeak \fB-f\fP eBook-speaker.txt \fB-w\fP eBook-speaker.wav \fB-v\fP pt
.IP \(bu 3
espeak \fB-f\fP eBook-speaker.txt \fB-w\fP eBook-speaker.wav \fB-v\fP nl
.IP \(bu 3
espeak \fB-f\fP eBook-speaker.txt \fB-w\fP eBook-speaker.wav \fB-v\fP mb-nl2
.IP \(bu 3
flite eBook-speaker.txt eBook-speaker.wav
.IP \(bu 3
swift -\fIn\fP Lawrence \fB-f\fP eBook-speaker.txt \fB-o\fP eBook-speaker.wav
.IP \(bu 3
text2wave eBook-speaker.txt \fB-o\fP eBook-speaker.wav
.IP \(bu 3
text2wave \fB-eval\fP '(voice_en1_mbrola)' eBook-speaker.txt \fB-o\fP eBook-speaker.wav
.IP \(bu 3
pico2wave \fB-w\fP eBook-speaker.wav "`cat eBook-speaker.txt`"
.SH THANKS TO
.TP
.B
Daniel Veillard <daniel@veillard.com>
for the XML2 library.
.PP
Chris Bagwell <cbagwell@users.sourceforge.net>
.TP
.B
Rob Sykes <aquegg@yahoo.co.uk>
for sox.
.TP
.B
Didier Spaier <didier@slint.fr>
for the TTS enhancements.
.SH FILES
.TP
.B
~/.eBook-speaker/
This directory contains the bookmarks in XML-format.  Each file has the name of the book and contains the name of the current item, the start-phrase of that item, the current level, the desired TTS, the desired reading speed, the desired phrase-break point and the current sink in the list of the available sound devices.
.TP
.B
~/.eBook-speaker.xml
This file, in XML-format, contains a list of available TTS's. (See TTS EXAMPLES)
.TP
.B
/tmp/eBook-speaker.XXXXXX
eBook-speaker makes use of a temporary directory. It is removed after quiting.
.SH NOTES
An EPUB-book has two index-files for navigation, a NCX and an OPF file. eBook-speaker tries to detemine which of these two files give the best result. But sometimes eBook-speaker is not able to make the best choice. When in doubt use option "\fB--N\fP" to force the use of NCX or "\fB-O\fP" to force the OPF.
.SH SEE ALSO
\fBebook-convert\fP(1), \fBpandoc\fP(1), \fBcalibre\fP(1), \fBiconv\fP(1), \fBlowriter\fP(1), \fBtesseract\fP(1), \fBcuneiform\fP(1), \fBespeak\fP(1), \fBflite\fP(1), \fBtext2wave\fP(1), \fBmbrola\fP(1), \fBpico2wave\fP(1), \fBscanimage\fP(1), \fBpnmflip\fP(1), \fBgif2png\fP(1), \fBman2html\fP(1), \fBunar\fP(1), \fBswift\fP(1), \fBunrtf\fP(1), \fBwget\fP(1), \fBpulseaudio\fP(1), \fBpactl\fP(1), \fBamixer\fP(1), \fBalsamixer\fP(1), \fBmagic\fP(5), \fBlocale\fP(7), \fBusermod\fP(8)
.SH AUTHOR
Jos Lemmens <jos@jlemmens.nl>
.SH COPYRIGHT
Copyright (C)2011-2021 Jos Lemmens <jos@jlemmens.nl>
.PP
This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program (see the file COPYING); if not, write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA
